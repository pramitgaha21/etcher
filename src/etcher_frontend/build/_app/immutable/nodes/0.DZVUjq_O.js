import{a as L,o as q,j as h,n as D,g as m,m as K,e as p,t as F,b as T,c as $,d as b,f as H,h as k,L as Q,u as g,k as d,M as R,l as O,N as U,O as G,P as J,Q as W}from"../chunks/scheduler.CbPJiGma.js";import{S as N,i as S,b as C,d as I,m as M,a as y,t as w,e as E}from"../chunks/index.DzQbRDi2.js";import{m as v,B as X,i as Y,c as Z,H as x,a as ee,b as te,d as se,e as ae}from"../chunks/button.DiS6g_GH.js";const ne=!0,le=!1,be=Object.freeze(Object.defineProperty({__proto__:null,prerender:ne,ssr:le},Symbol.toStringTag,{value:"Module"}));function z(o){let e,t,s=o[0].messageTitle+"",n,r,c,i=o[0].message+"",a,l,f,P="Close",A,V;return{c(){e=p("div"),t=p("h1"),n=F(s),r=T(),c=p("p"),a=F(i),l=T(),f=p("button"),f.textContent=P,this.h()},l(_){e=$(_,"DIV",{class:!0});var u=b(e);t=$(u,"H1",{class:!0});var j=b(t);n=H(j,s),j.forEach(m),r=k(u),c=$(u,"P",{class:!0});var B=b(c);a=H(B,i),B.forEach(m),l=k(u),f=$(u,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(f)!=="svelte-au4vm5"&&(f.textContent=P),u.forEach(m),this.h()},h(){g(t,"class","message-head svelte-7lpvmv"),g(c,"class","message svelte-7lpvmv"),g(f,"class","close-button svelte-7lpvmv"),g(e,"class","message-modal svelte-7lpvmv")},m(_,u){h(_,e,u),d(e,t),d(t,n),d(e,r),d(e,c),d(c,a),d(e,l),d(e,f),A||(V=R(f,"click",o[1]),A=!0)},p(_,u){u&1&&s!==(s=_[0].messageTitle+"")&&O(n,s),u&1&&i!==(i=_[0].message+"")&&O(a,i)},d(_){_&&m(e),A=!1,V()}}}function oe(o){let e,t=o[0].show&&z(o);return{c(){t&&t.c(),e=q()},l(s){t&&t.l(s),e=q()},m(s,n){t&&t.m(s,n),h(s,e,n)},p(s,[n]){s[0].show?t?t.p(s,n):(t=z(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:D,o:D,d(s){s&&m(e),t&&t.d(s)}}}function re(o,e,t){let s;return K(o,v,r=>t(0,s=r)),[s,()=>{v.set({show:!1,messageTitle:"",message:""})}]}class ie extends N{constructor(e){super(),S(this,e,re,oe,L,{})}}function ce(o){let e;return{c(){e=F(o[0])},l(t){e=H(t,o[0])},m(t,s){h(t,e,s)},p(t,s){s&1&&O(e,t[0])},d(t){t&&m(e)}}}function fe(o){let e,t;return e=new X({props:{$$slots:{default:[ce]},$$scope:{ctx:o}}}),e.$on("click",o[1]),{c(){C(e.$$.fragment)},l(s){I(e.$$.fragment,s)},m(s,n){M(e,s,n),t=!0},p(s,[n]){const r={};n&9&&(r.$$scope={dirty:n,ctx:s}),e.$set(r)},i(s){t||(y(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){E(e,s)}}}function ue(o,e,t){let s,n;K(o,Y,c=>t(2,n=c));const r=async()=>{await Z();let c=n;if(c==null){v.set({show:!0,messageTitle:"Internet identity not Found",message:"Internet Identity not Found, Please Login"});return}const i=new x({identity:c});await i.fetchRootKey().catch(l=>{v.set({show:!0,messageTitle:"Failed to fetch root key",message:l})});const a=ee(te,{agent:i});a.get_deposit_address_for_bitcoin().then(l=>{console.log(l),se.set(l)}).catch(l=>{v.set({show:!0,messageTitle:"Failed to fetch address",message:l})}),a.get_deposit_address_for_ckbtc().then(l=>{console.log(l),ae.set(l)}).catch(l=>{v.set({show:!0,messageTitle:"Failed to fetch address",message:l})})};return o.$$.update=()=>{o.$$.dirty&4&&t(0,s=n==null?"Connect":"Connected")},[s,r,n]}class me extends N{constructor(e){super(),S(this,e,ue,fe,L,{})}}function de(o){let e,t,s='<h1 class="svelte-f87sr0">Etcher</h1>',n,r,c,i;return c=new me({}),{c(){e=p("nav"),t=p("div"),t.innerHTML=s,n=T(),r=p("div"),C(c.$$.fragment),this.h()},l(a){e=$(a,"NAV",{class:!0});var l=b(e);t=$(l,"DIV",{class:!0,"data-svelte-h":!0}),Q(t)!=="svelte-161g734"&&(t.innerHTML=s),n=k(l),r=$(l,"DIV",{class:!0});var f=b(r);I(c.$$.fragment,f),f.forEach(m),l.forEach(m),this.h()},h(){g(t,"class","navbar-center svelte-f87sr0"),g(r,"class","navbar-right svelte-f87sr0"),g(e,"class","svelte-f87sr0")},m(a,l){h(a,e,l),d(e,t),d(e,n),d(e,r),M(c,r,null),i=!0},p:D,i(a){i||(y(c.$$.fragment,a),i=!0)},o(a){w(c.$$.fragment,a),i=!1},d(a){a&&m(e),E(c)}}}class _e extends N{constructor(e){super(),S(this,e,null,de,L,{})}}function pe(o){let e,t,s,n,r;e=new _e({}),s=new ie({});const c=o[1].default,i=U(c,o,o[0],null);return{c(){C(e.$$.fragment),t=T(),C(s.$$.fragment),n=T(),i&&i.c()},l(a){I(e.$$.fragment,a),t=k(a),I(s.$$.fragment,a),n=k(a),i&&i.l(a)},m(a,l){M(e,a,l),h(a,t,l),M(s,a,l),h(a,n,l),i&&i.m(a,l),r=!0},p(a,[l]){i&&i.p&&(!r||l&1)&&G(i,c,a,a[0],r?W(c,a[0],l,null):J(a[0]),null)},i(a){r||(y(e.$$.fragment,a),y(s.$$.fragment,a),y(i,a),r=!0)},o(a){w(e.$$.fragment,a),w(s.$$.fragment,a),w(i,a),r=!1},d(a){a&&(m(t),m(n)),E(e,a),E(s,a),i&&i.d(a)}}}function $e(o,e,t){let{$$slots:s={},$$scope:n}=e;return o.$$set=r=>{"$$scope"in r&&t(0,n=r.$$scope)},[n,s]}class ye extends N{constructor(e){super(),S(this,e,$e,pe,L,{})}}export{ye as component,be as universal};
